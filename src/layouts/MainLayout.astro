---
import '../styles/global.css';
import SEO from '../components/SEO.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { storyblokEditable } from '@storyblok/astro';

// Recibimos la configuraci√≥n global como prop
const { title, description, image, config } = Astro.props;

// Extraemos los colores directamente del content
const primary = config?.content?.color_primary || '#000000';
const secondary = config?.content?.color_secondary || '#cccccc';

// Extraemos el logo y otros datos
const logo = config?.content?.logo?.filename || '';
const menuItems = config?.content?.menu_items || [];
const socialLinks = config?.content?.social_links || [];
const copyrightText = config?.content?.copyright_text || {};
---

<html lang="es">
    <head>
        <SEO title={title} description={description} image={image} />

        <style define:vars={{ primary, secondary }}>
            :root {
                --brand-primary: var(--primary);
                --brand-secondary: var(--secondary);
            }
        </style>
    </head>
    <body class="min-h-screen bg-slate-50 flex flex-col">
        <Header data={{ logo, menuItems }} />
        
        <main class="flex-grow">
            <slot />
        </main>

        <Footer data={{ logo, socialLinks, copyrightText }} />
    </body>
</html>